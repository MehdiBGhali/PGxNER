Running on sh09
# conda environments:
#
base                  *  /opt/conda
PGx_env                  /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env
PGx_env_37               /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env_37

Collecting package metadata (current_repodata.json): ...working... done
Solving environment: ...working... done


==> WARNING: A newer version of conda exists. <==
  current version: 4.10.3
  latest version: 23.1.0

Please update conda by running

    $ conda update -n base -c defaults conda



## Package Plan ##

  environment location: /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env

  added / updated specs:
    - python=3.8


The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    certifi-2022.12.7          |   py38h06a4308_0         150 KB
    pip-22.3.1                 |   py38h06a4308_0         2.7 MB
    python-3.8.16              |       h7a1cb2a_2        23.9 MB
    setuptools-65.6.3          |   py38h06a4308_0         1.1 MB
    ------------------------------------------------------------
                                           Total:        27.9 MB

The following packages will be UPDATED:

  ca-certificates    conda-forge::ca-certificates-2022.12.~ --> pkgs/main::ca-certificates-2023.01.10-h06a4308_0

The following packages will be SUPERSEDED by a higher-priority channel:

  certifi            conda-forge/noarch::certifi-2022.12.7~ --> pkgs/main/linux-64::certifi-2022.12.7-py38h06a4308_0

The following packages will be DOWNGRADED:

  pip                                 22.3.1-py39h06a4308_0 --> 22.3.1-py38h06a4308_0
  python                                  3.9.16-h7a1cb2a_0 --> 3.8.16-h7a1cb2a_2
  setuptools                          65.6.3-py39h06a4308_0 --> 65.6.3-py38h06a4308_0


Proceed ([y]/n)? 

Downloading and Extracting Packages
pip-22.3.1           | 2.7 MB    |            |   0% pip-22.3.1           | 2.7 MB    |            |   1% pip-22.3.1           | 2.7 MB    | #######4   |  74% pip-22.3.1           | 2.7 MB    | ########## | 100% 
certifi-2022.12.7    | 150 KB    |            |   0% certifi-2022.12.7    | 150 KB    | ########## | 100% certifi-2022.12.7    | 150 KB    | ########## | 100% 
setuptools-65.6.3    | 1.1 MB    |            |   0% setuptools-65.6.3    | 1.1 MB    | ########## | 100% setuptools-65.6.3    | 1.1 MB    | ########## | 100% 
python-3.8.16        | 23.9 MB   |            |   0% python-3.8.16        | 23.9 MB   | #2         |  12% python-3.8.16        | 23.9 MB   | ####1      |  42% python-3.8.16        | 23.9 MB   | #######8   |  78% python-3.8.16        | 23.9 MB   | ########## | 100% 
Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
Requirement already satisfied: pip in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (22.3.1)
Python 3.8.16
rustc 1.64.0 (a55dd71d5 2022-09-19)
Collecting setuptools_rust
  Using cached setuptools_rust-1.5.2-py3-none-any.whl (23 kB)
Requirement already satisfied: setuptools>=62.4 in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (from setuptools_rust) (65.6.3)
Collecting semantic-version<3,>=2.8.2
  Using cached semantic_version-2.10.0-py2.py3-none-any.whl (15 kB)
Collecting typing-extensions>=3.7.4.3
  Using cached typing_extensions-4.4.0-py3-none-any.whl (26 kB)
Installing collected packages: typing-extensions, semantic-version, setuptools_rust
ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
huggingface-hub 0.12.0 requires pyyaml>=5.1, which is not installed.
huggingface-hub 0.12.0 requires requests, which is not installed.
huggingface-hub 0.12.0 requires tqdm>=4.42.1, which is not installed.
Successfully installed semantic-version-2.10.0 setuptools_rust-1.5.2 typing-extensions-4.4.0
Collecting transformers==3.4.0
  Using cached transformers-3.4.0-py3-none-any.whl (1.3 MB)
Collecting torch==1.7.1
  Downloading torch-1.7.1-cp38-cp38-manylinux1_x86_64.whl (776.8 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 776.8/776.8 MB 2.0 MB/s eta 0:00:00
Requirement already satisfied: regex!=2019.12.17 in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from transformers==3.4.0->-r ./BARTNER/requirements.txt (line 1)) (2022.10.31)
Requirement already satisfied: filelock in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from transformers==3.4.0->-r ./BARTNER/requirements.txt (line 1)) (3.9.0)
Collecting tqdm>=4.27
  Using cached tqdm-4.64.1-py2.py3-none-any.whl (78 kB)
Collecting requests
  Using cached requests-2.28.2-py3-none-any.whl (62 kB)
Collecting sacremoses
  Using cached sacremoses-0.0.53.tar.gz (880 kB)
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Collecting sentencepiece!=0.1.92
  Downloading sentencepiece-0.1.97-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.3 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.3/1.3 MB 21.7 MB/s eta 0:00:00
Requirement already satisfied: packaging in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from transformers==3.4.0->-r ./BARTNER/requirements.txt (line 1)) (23.0)
Collecting protobuf
  Downloading protobuf-4.21.12-cp37-abi3-manylinux2014_x86_64.whl (409 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 409.8/409.8 kB 12.6 MB/s eta 0:00:00
Collecting numpy
  Downloading numpy-1.24.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.3 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 17.3/17.3 MB 30.1 MB/s eta 0:00:00
Collecting tokenizers==0.9.2
  Downloading tokenizers-0.9.2-cp38-cp38-manylinux1_x86_64.whl (2.9 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.9/2.9 MB 7.5 MB/s eta 0:00:00
Requirement already satisfied: typing-extensions in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (from torch==1.7.1->-r ./BARTNER/requirements.txt (line 2)) (4.4.0)
Collecting charset-normalizer<4,>=2
  Downloading charset_normalizer-3.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (195 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 195.4/195.4 kB 7.8 MB/s eta 0:00:00
Requirement already satisfied: certifi>=2017.4.17 in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (from requests->transformers==3.4.0->-r ./BARTNER/requirements.txt (line 1)) (2022.12.7)
Collecting idna<4,>=2.5
  Using cached idna-3.4-py3-none-any.whl (61 kB)
Collecting urllib3<1.27,>=1.21.1
  Using cached urllib3-1.26.14-py2.py3-none-any.whl (140 kB)
Collecting six
  Using cached six-1.16.0-py2.py3-none-any.whl (11 kB)
Requirement already satisfied: click in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from sacremoses->transformers==3.4.0->-r ./BARTNER/requirements.txt (line 1)) (8.1.3)
Collecting joblib
  Using cached joblib-1.2.0-py3-none-any.whl (297 kB)
Building wheels for collected packages: sacremoses
  Building wheel for sacremoses (setup.py): started
  Building wheel for sacremoses (setup.py): finished with status 'done'
  Created wheel for sacremoses: filename=sacremoses-0.0.53-py3-none-any.whl size=895241 sha256=7c6c8e90b3f6427859dc0bae903d76ce45375b4590028e07a3bc32cf271b93e3
  Stored in directory: /usr/users/rattrapagemehdibenghali/benghali_meh/.cache/pip/wheels/64/a3/ff/01dc060d7fc51176b3ce7cf1561466a12e658164b594747547
Successfully built sacremoses
Installing collected packages: tokenizers, sentencepiece, charset-normalizer, urllib3, tqdm, six, protobuf, numpy, joblib, idna, torch, sacremoses, requests, transformers
  Attempting uninstall: tokenizers
    Found existing installation: tokenizers 0.13.2
    Uninstalling tokenizers-0.13.2:
      Successfully uninstalled tokenizers-0.13.2
  Attempting uninstall: transformers
    Found existing installation: transformers 4.26.0
    Uninstalling transformers-4.26.0:
      Successfully uninstalled transformers-4.26.0
ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
huggingface-hub 0.12.0 requires pyyaml>=5.1, which is not installed.
Successfully installed charset-normalizer-3.0.1 idna-3.4 joblib-1.2.0 numpy-1.24.1 protobuf-4.21.12 requests-2.28.2 sacremoses-0.0.53 sentencepiece-0.1.97 six-1.16.0 tokenizers-0.9.2 torch-1.7.1 tqdm-4.64.1 transformers-3.4.0 urllib3-1.26.14
Collecting git+https://github.com/fastnlp/fastNLP@dev
  Cloning https://github.com/fastnlp/fastNLP (to revision dev) to /tmp/benghali_meh-20535/pip-req-build-v8sdp5rd
  Running command git clone --filter=blob:none --quiet https://github.com/fastnlp/fastNLP /tmp/benghali_meh-20535/pip-req-build-v8sdp5rd
  Running command git checkout -b dev --track origin/dev
  Basculement sur la nouvelle branche 'dev'
  La branche 'dev' est paramétrée pour suivre la branche distante 'dev' depuis 'origin'.
  Resolved https://github.com/fastnlp/fastNLP to commit 2e3a689b294a988fafd618677def9ea1e5915e19
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: numpy>=1.14.2 in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (from FastNLP==0.7.1) (1.24.1)
Requirement already satisfied: torch>=1.0.0 in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (from FastNLP==0.7.1) (1.7.1)
Requirement already satisfied: tqdm>=4.28.1 in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (from FastNLP==0.7.1) (4.64.1)
Requirement already satisfied: prettytable>=0.7.2 in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from FastNLP==0.7.1) (3.6.0)
Requirement already satisfied: requests in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (from FastNLP==0.7.1) (2.28.2)
Requirement already satisfied: regex!=2019.12.17 in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from FastNLP==0.7.1) (2022.10.31)
Requirement already satisfied: wcwidth in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from prettytable>=0.7.2->FastNLP==0.7.1) (0.2.6)
Requirement already satisfied: typing-extensions in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (from torch>=1.0.0->FastNLP==0.7.1) (4.4.0)
Requirement already satisfied: charset-normalizer<4,>=2 in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (from requests->FastNLP==0.7.1) (3.0.1)
Requirement already satisfied: certifi>=2017.4.17 in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (from requests->FastNLP==0.7.1) (2022.12.7)
Requirement already satisfied: idna<4,>=2.5 in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (from requests->FastNLP==0.7.1) (3.4)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (from requests->FastNLP==0.7.1) (1.26.14)
Collecting git+https://github.com/fastnlp/fitlog
  Cloning https://github.com/fastnlp/fitlog to /tmp/benghali_meh-20535/pip-req-build-dnsa3tqn
  Running command git clone --filter=blob:none --quiet https://github.com/fastnlp/fitlog /tmp/benghali_meh-20535/pip-req-build-dnsa3tqn
  Resolved https://github.com/fastnlp/fitlog to commit def816d968e6f688ea769dcca8c2475ad56ae693
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: docopt>=0.6.2 in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from fitlog==0.9.14) (0.6.2)
Requirement already satisfied: flask>=1.0.2 in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from fitlog==0.9.14) (2.2.2)
Requirement already satisfied: numpy>=1.16.4 in /usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages (from fitlog==0.9.14) (1.24.1)
Requirement already satisfied: gitpython>=3.1.2 in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from fitlog==0.9.14) (3.1.30)
Collecting importlib-metadata>=3.6.0
  Using cached importlib_metadata-6.0.0-py3-none-any.whl (21 kB)
Requirement already satisfied: itsdangerous>=2.0 in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from flask>=1.0.2->fitlog==0.9.14) (2.1.2)
Requirement already satisfied: Werkzeug>=2.2.2 in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from flask>=1.0.2->fitlog==0.9.14) (2.2.2)
Requirement already satisfied: click>=8.0 in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from flask>=1.0.2->fitlog==0.9.14) (8.1.3)
Requirement already satisfied: Jinja2>=3.0 in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from flask>=1.0.2->fitlog==0.9.14) (3.1.2)
Requirement already satisfied: gitdb<5,>=4.0.1 in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from gitpython>=3.1.2->fitlog==0.9.14) (4.0.10)
Requirement already satisfied: smmap<6,>=3.0.1 in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from gitdb<5,>=4.0.1->gitpython>=3.1.2->fitlog==0.9.14) (5.0.0)
Collecting zipp>=0.5
  Using cached zipp-3.12.0-py3-none-any.whl (6.6 kB)
Requirement already satisfied: MarkupSafe>=2.0 in /usr/users/rattrapagemehdibenghali/benghali_meh/.local/lib/python3.8/site-packages (from Jinja2>=3.0->flask>=1.0.2->fitlog==0.9.14) (2.1.2)
Installing collected packages: zipp, importlib-metadata
Successfully installed importlib-metadata-6.0.0 zipp-3.12.0
Traceback (most recent call last):
  File "./BARTNER/train.py", line 10, in <module>
    from data.pipe import BartNERPipe
  File "/usr/users/rattrapagemehdibenghali/benghali_meh/PGxNER/BARTNER/data/pipe.py", line 6, in <module>
    from transformers import AutoTokenizer
  File "/usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages/transformers/__init__.py", line 135, in <module>
    from .pipelines import (
  File "/usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages/transformers/pipelines.py", line 37, in <module>
    from .tokenization_auto import AutoTokenizer
  File "/usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages/transformers/tokenization_auto.py", line 117, in <module>
    from .tokenization_albert_fast import AlbertTokenizerFast
  File "/usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages/transformers/tokenization_albert_fast.py", line 23, in <module>
    from .tokenization_utils_fast import PreTrainedTokenizerFast
  File "/usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages/transformers/tokenization_utils_fast.py", line 30, in <module>
    from .convert_slow_tokenizer import convert_slow_tokenizer
  File "/usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages/transformers/convert_slow_tokenizer.py", line 27, in <module>
    from transformers.utils import sentencepiece_model_pb2 as model
  File "/usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages/transformers/utils/sentencepiece_model_pb2.py", line 38, in <module>
    _descriptor.EnumValueDescriptor(name="UNIGRAM", index=0, number=1, options=None, type=None),
  File "/usr/users/rattrapagemehdibenghali/benghali_meh/.conda/envs/PGx_env/lib/python3.8/site-packages/google/protobuf/descriptor.py", line 755, in __new__
    _message.Message._CheckCalledFromGeneratedFile()
TypeError: Descriptors cannot not be created directly.
If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc >= 3.19.0.
If you cannot immediately regenerate your protos, some other possible workarounds are:
 1. Downgrade the protobuf package to 3.20.x or lower.
 2. Set PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python (but this will use pure-Python parsing and will be much slower).

More information: https://developers.google.com/protocol-buffers/docs/news/2022-05-06#python-updates
